---
title: obsidian多端同步(完美解决)
tags: [obsidian,博客,'#Fleeting_N']
date: 2023-08-28 08:26:47
draft: true
hideInList: false
isTop: false
published: false
categories: [obsidian,博客]
---

作者：阿三 
博客：[Nockygo](https://hexo.hexiefamily.xin) 
公众号：阿三爱吃瓜

> 持续不断记录、整理、分享，让自己和他人一起成长！😊


------
## 背景

这是我视频的字幕，懒得再写了，先水一篇吧😄😄😄。

看过我之前视频的小伙伴们应该都知道我有讲过多端同步，在那个视频里用的插件是remotely-save，和坚果云同步，但是我自己本身不是在用这个，因为同步到坚果云其实会有缺陷。

1、坚果云免费版是有限制的，一旦你笔记很多就会造成这个困扰，可能会超过上限，那就必须得付费了，`所以这里我建议：图片尽量上传到云上，使用picogo插件这样能减少点容量🤣`。
2、一旦出现某个文件有冲突了，那么就得删除整个文件夹再重新来，即便是有其他的云同步，还是无可避免的出现这个问题。

> 那怎么解决这两个问题呢，我的做法是用： **git+半同步方式**

![](https://weimgpub.oss-cn-hangzhou.aliyuncs.com/img/202309050036543.png)

我用的是gitee，因为国内访问的速度会快些，平时我用电脑端的ob会多些，移动端的ob就是用来同步和记一些闪念的笔记用的。
PC端我使用obsidian-git插件的快捷键，上传到gitee上，移动端iphone用的是ish终端，安卓用的是termux终端进行更新操作。

好了，废话不多说，进入正题。
## 操作

### 安装git

第一个就是安装git了，这里我就不过多介绍git的安装方法了，大家自行搜索菜鸟教程的git安装方法就好了。

### 提交文档

第二步先注册gitee，网址是http://gitee.com，这里我已经注册好了，点击新建仓库，这里仓库名称我设置为note，路径也是note，仓库介绍随便写，初始化仓勾选上，点击创建，gitee这里很人性化的给你操作步骤。

我用的是mac，windows应该也一样操作，打开对应的目录下，git init ，初始化仓库，这里有个.gitignore 文件，存放本地不上传到gitee上的文件或文件夹，这里.obsidian 我们选择不上传，因为如果有很多插件，后期影响上传的速度，当然自行考虑咯～接下来复制gitee的命令就好。


### 开启obsidian-git插件


接下来，我们打开ob，测试下，随便输入文字，电脑端我用的是obsidian-git插件，当然你如果熟悉git步骤，命令行也是可以的，我们打开设置，点击第三方插件，找到obsidian-git，点这个+号，我们设置快捷键，找到Pull，我设置的是Option+U 代表更新，找到push，我设置的是Option+P代表推送，找到commit all changes，我设置的是Option+M代表提交，设置完了，好，我们测试下，Option+m 先提交，右上方有提示commit 1 file，然后我们再Option+P 推送，有提示pushed 1 file，好，这就代表已经上传到gitee上了，我们去gitee上看下有没有更新，打开闪念笔记无痛苦更新公众号，看，最下面有新添加的文字。 

### 安卓端使用

首先下载termux终端，复制这个命令，这个命令可以关注【阿三爱吃瓜】公众号，发送 `同步` 消息即可获得，好，点回车。

输入 `sh ob.sh` ，输入`1` 初始化，这里就等待 如果卡住了就按回车，到这里我们选择`允许访问`，然后再回车，一直到出现分割线密钥，我们复制中间的这段密钥，打开gitee网站，找到`设置`，找到左侧`ssh公钥`, 添加完之后，我们打开刚才创建的note仓库，点`克隆/下载`，找到`SSH`那一栏，点击复制，好，我们回到termux中，点击回车继续，输入yes，这里我们粘贴刚才复制的地址，点回车，好，安卓端脚本部署完成了。

接下来打开obsidian，这里我们允许权限，选择Open folder，打开Download目录，找到note文件夹 选择，好，我们测试下

打开termux，还是输入sh ob.sh，我们选择`3`，意思是将安卓的这个文档上传到gitee上，脚本已经完成了就说明上传成功了，我们这里假如删掉一个文件，我们想要去恢复，怎么做？打开termux，同样的`sh ob.sh` 选择`4` 解决冲突，这样我们再回ob里看下，是不是又回来了～

### iphone端使用

ok 接下来我们说下iPhone上的操作，首先先create new，随便起个名字就好，iphone上我用的是ish终端，打开，同样输入这个命令，这个命令可以关注【阿三爱吃瓜】公众号，发送 `同步` 消息即可获得，好，点回车。

输入 `sh ob.sh` ，同样输入`1` 初始化，这里就等待 如果卡住了就按回车，到这里我们选择`允许访问`，然后再回车，一直到出现分割线密钥，和安卓端的操作是一样的，这里我就不多说了，这里会授权文件权限，我们选择obsidian，点完成就可以了。

好 我们打开obsidian，点击左上角切换目录，选择note就可以了。

好 我们同样测试下，测试下上传gitee中，好了，上传成功

我们删除文件试试看，同样的选择4解决冲突 好，也是可以的

最后我们打开安卓的termux，`sh ob.sh` 选择步骤2，如果完成之后，ob里应该和ipone里的文档数据应该是保持一致的，ok 是一样的

好 这就是我今天讲的所有内容，采用的是半同步的方式。




